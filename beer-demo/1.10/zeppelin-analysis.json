{"paragraphs":[{"title":"Load Dependencies","text":"%dep\nz.load(\"mysql:mysql-connector-java:6.0.5\")","dateUpdated":"Oct 5, 2017 3:54:37 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1507218814099_-158421699","id":"20171005-155334_837876848","result":{"code":"SUCCESS","type":"TEXT","msg":"res0: org.apache.zeppelin.spark.dep.Dependency = org.apache.zeppelin.spark.dep.Dependency@33d3c199\n"},"dateCreated":"Oct 5, 2017 3:53:34 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:20","focus":true,"dateFinished":"Oct 5, 2017 3:54:53 PM","dateStarted":"Oct 5, 2017 3:54:37 PM"},{"title":"Spark Streaming","text":"import org.apache.spark._\nimport org.apache.spark.rdd.JdbcRDD\nimport java.sql.{DriverManager, ResultSet}\n\ndef createConnection() = {\n    Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n    DriverManager.getConnection(\"jdbc:mysql://3.3.0.6:3306/beer?user=good&password=beer\");\n}\n\nval data = new JdbcRDD(sc,\n    createConnection, \"SELECT * FROM `beers` WHERE descript !='' AND ? <= ID AND ID <= ?\",\n    lowerBound = 1, upperBound = 5000, numPartitions = 10, mapRow = r => r.getString(\"descript\"))\ndata\n    .flatMap(line => line.replaceAll(\"[.,;\\']\", \" \") // strip unwanted tags\n    .toLowerCase().split(\" \")) // split by whitespace\n    .filter(_.length > 3)\n    .map(word => (word, 1)) // map by words\n    .reduceByKey(_+_) // sum values by word\n    .toDF(\"word\", \"count\")\n    .registerTempTable(\"wordcount\")\n","dateUpdated":"Oct 5, 2017 3:58:52 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true,"tableHide":false,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1507218814101_-160730193","id":"20171005-155334_704570045","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark._\nimport org.apache.spark.rdd.JdbcRDD\nimport java.sql.{DriverManager, ResultSet}\ncreateConnection: ()java.sql.Connection\ndata: org.apache.spark.rdd.JdbcRDD[String] = JdbcRDD[10] at JdbcRDD at <console>:42\n"},"dateCreated":"Oct 5, 2017 3:53:34 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:21","dateFinished":"Oct 5, 2017 3:58:56 PM","dateStarted":"Oct 5, 2017 3:58:52 PM","focus":true},{"title":"Display Word Count","text":"%sql select word, count from wordcount\n    order by count desc limit 20","dateUpdated":"Oct 5, 2017 3:58:59 PM","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"word","index":0,"aggr":"sum"}],"values":[{"name":"count","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"word","index":0,"aggr":"sum"},"yAxis":{"name":"count","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1507218814101_-160730193","id":"20171005-155334_67045426","result":{"code":"SUCCESS","type":"TABLE","msg":"word\tcount\nwith\t1560\nbeer\t1158\nthis\t918\nhops\t573\nmalt\t488\nflavor\t428\nthat\t421\nbrewed\t408\nfrom\t387\naroma\t289\npale\t268\nfinish\t252\nmalts\t251\nrich\t248\ncolor\t240\nstyle\t234\ndark\t232\nsmooth\t221\nwheat\t215\nlight\t214\n","comment":"","msgTable":[[{"key":"count","value":"with"},{"key":"count","value":"1560"}],[{"value":"beer"},{"value":"1158"}],[{"value":"this"},{"value":"918"}],[{"value":"hops"},{"value":"573"}],[{"value":"malt"},{"value":"488"}],[{"value":"flavor"},{"value":"428"}],[{"value":"that"},{"value":"421"}],[{"value":"brewed"},{"value":"408"}],[{"value":"from"},{"value":"387"}],[{"value":"aroma"},{"value":"289"}],[{"value":"pale"},{"value":"268"}],[{"value":"finish"},{"value":"252"}],[{"value":"malts"},{"value":"251"}],[{"value":"rich"},{"value":"248"}],[{"value":"color"},{"value":"240"}],[{"value":"style"},{"value":"234"}],[{"value":"dark"},{"value":"232"}],[{"value":"smooth"},{"value":"221"}],[{"value":"wheat"},{"value":"215"}],[{"value":"light"},{"value":"214"}]],"columnNames":[{"name":"word","index":0,"aggr":"sum"},{"name":"count","index":1,"aggr":"sum"}],"rows":[["with","1560"],["beer","1158"],["this","918"],["hops","573"],["malt","488"],["flavor","428"],["that","421"],["brewed","408"],["from","387"],["aroma","289"],["pale","268"],["finish","252"],["malts","251"],["rich","248"],["color","240"],["style","234"],["dark","232"],["smooth","221"],["wheat","215"],["light","214"]]},"dateCreated":"Oct 5, 2017 3:53:34 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:22","dateFinished":"Oct 5, 2017 3:59:01 PM","dateStarted":"Oct 5, 2017 3:58:59 PM","focus":true},{"dateUpdated":"Oct 5, 2017 3:53:34 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1507218814101_-160730193","id":"20171005-155334_1763289150","result":{"code":"SUCCESS","type":"TEXT"},"dateCreated":"Oct 5, 2017 3:53:34 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23"}],"name":"Beer Analysis","id":"2CWTAKEWT","angularObjects":{"2CVZQCFD4":[],"2CTXXYQ5A":[],"2CX2GNZBQ":[],"2CVXJEP8A":[],"2CWPYQHVF":[],"2CV81UWDD":[],"2CU6RMNEH":[],"2CTW2JQMH":[],"2CUTZAXWT":[],"2CX74V7V8":[],"2CU9YMESR":[],"2CW1WR87F":[],"2CWA3GHHN":[],"2CURWDFU9":[]},"config":{"looknfeel":"default"},"info":{}}